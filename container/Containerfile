# Containerfile for Nginx + MkDocs site
# ボリュームマウント方式を採用（運用簡単さ優先）
#
# 使い方:
#   podman build -t mkdocs-nginx -f container/Containerfile .
#   podman run -d -p 8080:80 -v ./site:/usr/share/nginx/html:ro,Z mkdocs-nginx

FROM docker.io/library/nginx:alpine

# カスタム nginx.conf をコピー
COPY container/nginx.conf /etc/nginx/nginx.conf

# ヘルスチェック用
HEALTHCHECK --interval=30s --timeout=3s --start-period=5s --retries=3 \
    CMD wget --no-verbose --tries=1 --spider http://localhost/ || exit 1

# ポート公開（ドキュメント用）
EXPOSE 80

# デフォルトの entrypoint/cmd は nginx イメージのものを使用
